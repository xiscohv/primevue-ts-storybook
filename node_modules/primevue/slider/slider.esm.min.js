import{DomHandler as e}from"primevue/utils";import t from"primevue/basecomponent";import{useStyle as n}from"primevue/usestyle";import{openBlock as i,createElementBlock as a,mergeProps as r,createElementVNode as o,createCommentVNode as l}from"vue";var s=n("\n.p-slider {\n    position: relative;\n}\n\n.p-slider .p-slider-handle {\n    cursor: grab;\n    touch-action: none;\n    display: block;\n}\n\n.p-slider-range {\n    display: block;\n}\n\n.p-slider-horizontal .p-slider-range {\n    top: 0;\n    left: 0;\n    height: 100%;\n}\n\n.p-slider-horizontal .p-slider-handle {\n    top: 50%;\n}\n\n.p-slider-vertical {\n    height: 100px;\n}\n\n.p-slider-vertical .p-slider-handle {\n    left: 50%;\n}\n\n.p-slider-vertical .p-slider-range {\n    bottom: 0;\n    left: 0;\n    width: 100%;\n}\n",{name:"slider",manual:!0});function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function h(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var g={name:"Slider",extends:{name:"BaseSlider",extends:t,props:{modelValue:[Number,Array],min:{type:Number,default:0},max:{type:Number,default:100},orientation:{type:String,default:"horizontal"},step:{type:Number,default:null},range:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},tabindex:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},css:{classes:{root:function(e){var t=e.props;return["p-slider p-component",{"p-disabled":t.disabled,"p-slider-horizontal":"horizontal"===t.orientation,"p-slider-vertical":"vertical"===t.orientation}]},range:"p-slider-range",handle:"p-slider-handle"},inlineStyles:{handle:{position:"absolute"},range:{position:"absolute"}},loadStyle:s.load},provide:function(){return{$parentInstance:this}}},emits:["update:modelValue","change","slideend"],dragging:!1,handleIndex:null,initX:null,initY:null,barWidth:null,barHeight:null,dragListener:null,dragEndListener:null,beforeUnmount:function(){this.unbindDragListeners()},methods:{updateDomData:function(){var t=this.$el.getBoundingClientRect();this.initX=t.left+e.getWindowScrollLeft(),this.initY=t.top+e.getWindowScrollTop(),this.barWidth=this.$el.offsetWidth,this.barHeight=this.$el.offsetHeight},setValue:function(e){var t=("horizontal"===this.orientation?100*((e.touches?e.touches[0].pageX:e.pageX)-this.initX)/this.barWidth:100*(this.initY+this.barHeight-(e.touches?e.touches[0].pageY:e.pageY))/this.barHeight)/100*(this.max-this.min)+this.min;if(this.step){var n=this.range?this.modelValue[this.handleIndex]:this.modelValue,i=t-n;i<0?t=n+Math.ceil(t/this.step-n/this.step)*this.step:i>0&&(t=n+Math.floor(t/this.step-n/this.step)*this.step)}else t=Math.floor(t);this.updateModel(e,t)},updateModel:function(e,t){var n,i,a=parseFloat(t.toFixed(10));this.range?(n=this.modelValue?m(i=this.modelValue)||h(i)||u(i)||d():[],0==this.handleIndex?(a<this.min?a=this.min:a>=this.max&&(a=this.max),n[0]=a):(a>this.max?a=this.max:a<=this.min&&(a=this.min),n[1]=a)):(a<this.min?a=this.min:a>this.max&&(a=this.max),n=a),this.$emit("update:modelValue",n),this.$emit("change",n)},onDragStart:function(e,t){this.disabled||(this.$el.setAttribute("data-p-sliding",!0),this.dragging=!0,this.updateDomData(),this.handleIndex=this.range&&this.modelValue[0]===this.max?0:t,e.currentTarget.focus(),e.preventDefault())},onDrag:function(e){this.dragging&&(this.setValue(e),e.preventDefault())},onDragEnd:function(e){this.dragging&&(this.dragging=!1,this.$el.setAttribute("data-p-sliding",!1),this.$emit("slideend",{originalEvent:e,value:this.modelValue}))},onBarClick:function(t){this.disabled||"handle"!==e.getAttribute(t.target,"data-pc-section")&&(this.updateDomData(),this.setValue(t))},onMouseDown:function(e,t){this.bindDragListeners(),this.onDragStart(e,t)},onKeyDown:function(e,t){switch(this.handleIndex=t,e.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(e,t),e.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(e,t),e.preventDefault();break;case"PageDown":this.decrementValue(e,t,!0),e.preventDefault();break;case"PageUp":this.incrementValue(e,t,!0),e.preventDefault();break;case"Home":this.updateModel(e,this.min),e.preventDefault();break;case"End":this.updateModel(e,this.max),e.preventDefault()}},decrementValue:function(e,t){this.updateModel(e,this.range?this.step?this.modelValue[t]-this.step:this.modelValue[t]-1:this.step?this.modelValue-this.step:!this.step&&(arguments.length>2&&void 0!==arguments[2]&&arguments[2])?this.modelValue-10:this.modelValue-1),e.preventDefault()},incrementValue:function(e,t){this.updateModel(e,this.range?this.step?this.modelValue[t]+this.step:this.modelValue[t]+1:this.step?this.modelValue+this.step:!this.step&&(arguments.length>2&&void 0!==arguments[2]&&arguments[2])?this.modelValue+10:this.modelValue+1),e.preventDefault()},bindDragListeners:function(){this.dragListener||(this.dragListener=this.onDrag.bind(this),document.addEventListener("mousemove",this.dragListener)),this.dragEndListener||(this.dragEndListener=this.onDragEnd.bind(this),document.addEventListener("mouseup",this.dragEndListener))},unbindDragListeners:function(){this.dragListener&&(document.removeEventListener("mousemove",this.dragListener),this.dragListener=null),this.dragEndListener&&(document.removeEventListener("mouseup",this.dragEndListener),this.dragEndListener=null)}},computed:{horizontal:function(){return"horizontal"===this.orientation},vertical:function(){return"vertical"===this.orientation},rangeStyle:function(){if(this.range){var e=this.rangeEndPosition>this.rangeStartPosition?this.rangeEndPosition-this.rangeStartPosition:this.rangeStartPosition-this.rangeEndPosition,t=this.rangeEndPosition>this.rangeStartPosition?this.rangeStartPosition:this.rangeEndPosition;return this.horizontal?{left:t+"%",width:e+"%"}:{bottom:t+"%",height:e+"%"}}return this.horizontal?{width:this.handlePosition+"%"}:{height:this.handlePosition+"%"}},handleStyle:function(){return this.horizontal?{left:this.handlePosition+"%"}:{bottom:this.handlePosition+"%"}},handlePosition:function(){return this.modelValue<this.min?0:this.modelValue>this.max?100:100*(this.modelValue-this.min)/(this.max-this.min)},rangeStartPosition:function(){return this.modelValue&&this.modelValue[0]?100*(this.modelValue[0]<this.min?0:this.modelValue[0]-this.min)/(this.max-this.min):0},rangeEndPosition:function(){return this.modelValue&&2===this.modelValue.length?100*(this.modelValue[1]>this.max?100:this.modelValue[1]-this.min)/(this.max-this.min):100},rangeStartHandleStyle:function(){return this.horizontal?{left:this.rangeStartPosition+"%"}:{bottom:this.rangeStartPosition+"%"}},rangeEndHandleStyle:function(){return this.horizontal?{left:this.rangeEndPosition+"%"}:{bottom:this.rangeEndPosition+"%"}}}},p=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"],f=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"],b=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"];g.render=function(e,t,n,s,d,u){return i(),a("div",r({class:e.cx("root"),onClick:t[15]||(t[15]=function(){return u.onBarClick&&u.onBarClick.apply(u,arguments)})},e.ptm("root"),{"data-p-sliding":!1,"data-pc-name":"slider"}),[o("span",r({class:e.cx("range"),style:[e.sx("range"),u.rangeStyle]},e.ptm("range")),null,16),e.range?l("",!0):(i(),a("span",r({key:0,class:e.cx("handle"),style:[e.sx("handle"),u.handleStyle],onTouchstart:t[0]||(t[0]=function(e){return u.onDragStart(e)}),onTouchmove:t[1]||(t[1]=function(e){return u.onDrag(e)}),onTouchend:t[2]||(t[2]=function(e){return u.onDragEnd(e)}),onMousedown:t[3]||(t[3]=function(e){return u.onMouseDown(e)}),onKeydown:t[4]||(t[4]=function(e){return u.onKeyDown(e)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("handle")),null,16,p)),e.range?(i(),a("span",r({key:1,class:e.cx("handle"),style:[e.sx("handle"),u.rangeStartHandleStyle],onTouchstart:t[5]||(t[5]=function(e){return u.onDragStart(e,0)}),onTouchmove:t[6]||(t[6]=function(e){return u.onDrag(e)}),onTouchend:t[7]||(t[7]=function(e){return u.onDragEnd(e)}),onMousedown:t[8]||(t[8]=function(e){return u.onMouseDown(e,0)}),onKeydown:t[9]||(t[9]=function(e){return u.onKeyDown(e,0)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue?e.modelValue[0]:null,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("startHandler")),null,16,f)):l("",!0),e.range?(i(),a("span",r({key:2,class:e.cx("handle"),style:[e.sx("handle"),u.rangeEndHandleStyle],onTouchstart:t[10]||(t[10]=function(e){return u.onDragStart(e,1)}),onTouchmove:t[11]||(t[11]=function(e){return u.onDrag(e)}),onTouchend:t[12]||(t[12]=function(e){return u.onDragEnd(e)}),onMousedown:t[13]||(t[13]=function(e){return u.onMouseDown(e,1)}),onKeydown:t[14]||(t[14]=function(e){return u.onKeyDown(e,1)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue?e.modelValue[1]:null,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("endHandler")),null,16,b)):l("",!0)],16)};export{g as default};
